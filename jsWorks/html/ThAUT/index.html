<html ng-app="AUT">
  <header>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
  </header>
  <body>
    <div ng-controller="ctrl_AUT" >
       <form>
         <label for="sDatabases"> Database : </label>
         <select name="sDatabases" id="sDatabases" ng-model="Databases.Nom">
           <option ng-repeat="Database in Databases.Elements" value="{{Database}}">{{Database}}</option>
         </select>
       </form>
       <br>
       <label for="eSQL"> RequÃªte SQL : </label><input type ='text'  id="eSQL"  ng-model="SQL" ng-keydown="eSQLKeyDown($event)" size="100">
       <br>
       LargeurTable:{{LargeurTable}}
       <br>
<table ng-style="{width:LargeurTable,'max-width':10000px}"><tr><td>
<div>
  <div class="text-left" style="float:left;width:{{Definitions.Longueur_Arbre+'em'}};" >Arbre</div>
  <div ng-repeat="Definition in Definitions.Champs">
    <div class="text-left" style="float:left;width:{{Definition.Longueur+'em'}}" >
      <table color="lime"; >
        <tr>
          <td>
            <span ng-click="Tri_Click( Definition.NomChamp)">{{Definition.LibelleChamp}}</span>
          </td>
        </tr>
        <tr>
          <td>
            <input type ='text'  id="eFiltre_{{Definition.NomChamp}}"
                   value="{{Definition.ValeurFiltreChamp}}"
                   ng-keydown="eFiltre_KeyDown($event,Definition.NomChamp)" size="{{Definition.Longueur}}">
          </td>
        </tr>
      </table>
    </div>
  </div>
  <div class="text-left" style="position=relative;float:left;width:{{Definitions.Longueur_Reset_Tri+'em'}}" ng-click="TriClick('0')">Reset Tri</div>
</div>

       <br>
       <br>
       <br>
       <br>
       <br>
       <script type="text/ng-template" id="LigneChamps">
          <div ui-tree-handle>
            <span style="float:left;width:{{Definitions.Longueur_Arbre+'em'}}">
            <a ng-class="{'btn': node.hasOwnProperty('Nom'), 'btn-success': node.hasOwnProperty('Nom')}" data-nodrag ng-click="toggle(this)">
               <span class="glyphicon"
                     ng-class="{'glyphicon-chevron-right': collapsed && node.hasOwnProperty('Nom'), 'glyphicon-chevron-down': !collapsed  && node.hasOwnProperty('Nom')}">
               </span>
            </a>
            {{node.Nom}}
            </span>

          <div ng-repeat="Definition in Definitions.Champs">
            <div class="text-left" style="float:left;width:{{Definition.Longueur+'em'}}">{{node[Definition.NomChamp]}}</div>
          </div>
          <div style="float:left;width:{{Definitions.Longueur_Reset_Tri+'em'}}">
          </div>
          </div>
          <br >
          <ol ui-tree-nodes="options" ng-model="node.Elements" ng-class="{hidden: collapsed}">
            <li ng-repeat="node in node.Elements" ui-tree-node ng-include="'LigneChamps'"></li>
          </ol>
          <br>
       </script>
       <div ui-tree>
         <ol ui-tree-nodes="" ng-model="root" id="tree-root">
           <li ng-repeat="node in root.Elements" ui-tree-node ng-include="'LigneChamps'">
           </li>
         </ol>
       </div>
</td></tr></table>
    </div>
    <!-- dependencies -->
    <!--
    <script src="bower_components/jquery/dist/jquery.js"></script>
    -->
    <script src="bower_components/angular/angular.js"></script>
    <!--
    <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css"/>
    <script type="text/javascript" src="angular-ui-tree.min.js"></script>
    <link rel="stylesheet" href="angular-ui-tree.css">
    <script type="text/javascript" src="AUT.js"></script>
    <!--
    <link rel="stylesheet" href="AUT.css">
    -->
  </body>
</html>
