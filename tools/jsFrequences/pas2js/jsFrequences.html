<!doctype html>
<html lang="fr">
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- pris dans demojitsimeet de Michael Van Canneyt pour test Bootstrap -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet"/>
  <script src="https://code.jquery.com/jquery-3.3.1.js" type="text/javascript"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" type="text/javascript"></script>
  <!-- fin ajout pour bootstrap -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js" integrity="sha256-oSgtFCCmHWRPQ/JmR4OoZ3Xke1Pw4v50uh6pLcu+fIc=" crossorigin="anonymous"></script>
  <!--
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/0.5.7/chartjs-plugin-annotation.min.js" integrity="sha256-Olnajf3o9kfkFGloISwP1TslJiWUDd7IYmfC+GdCKd4=" crossorigin="anonymous"></script>
  -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/0.5.7/chartjs-plugin-annotation.js" integrity="sha256-65VrZtDIgFNXMsE+kzBqH4uB8vpABjMijjAnb9x8ViY=" crossorigin="anonymous"></script>
  <title>jsFrequences</title>
  <script src="jsFrequences.js"></script>
</head>
<style>
  body {
    background-color: #eee;
    margin: auto;
  }
</style>
<body>
  <div class="container-fluid">
    <div class="row mt-3 ml-1 text-muted">
      <p>Ce programme est le résultat d'une réflexion à la lecture de l'article ci-dessous, j'espère ne pas avoir fait d'erreurs:</p>
      <p><a target="_blank" href="https://file.scirp.org/pdf/JCT_2018030914283777.pdf?fbclid=IwAR1mjnXL7HgTqEZCtDn2OqNWU4xorx4g-3RxhSRGSQz8vTIL3Yx2skDGPfY">
      Journal of Cancer Therapy, Favourable and Unfavourable EMF Frequency Patterns in Cancer: Perspectives for Improved Therapy and Prevention
      </a></p>
      <p>
      Cela concerne des ondes électromagnétiques.<br>
      Dans l'article les fréquences favorables de ces ondes sont également appelées fréquences cohérentes.<br>
      Ci-dessous les fréquences cohérentes favorables sont affichées en fond <em style="background-color:#80FF80;">vert </em>
      et les décohérentes en fond <em style="background-color:#C0C0C0;">gris</em><br>
      L'effet se manifeste dans une zone de + ou -0,85% autour de la fréquence, cela fait une bande de fréquence.
      </p>
    </div>
    <div class="card">
      <div class="card-header" id="chOctave">
        <h5 class="mb-0">
          <button class="btn btn-link" data-toggle="collapse" data-target="#Octave" aria-expanded="true" aria-controls="Octave">
            Cliquez ici pour voir ces bandes pour une octave donnée
          </button>
        </h5>
      </div>
      <div id="Octave" class="collapse" aria-labelledby="chOctave">
        <div class="card-body">
          <div class="form-group">
             <label for="iOctave">Octave</label>
             <input id="iOctave" class="form-control" aria-describedby="lOctave" value="0"/>
             <small id="lOctave" class="form-text text-muted">
               Octave de la bande de fréquences à afficher, saisir 0 pour l'octave de base<br>
               Elle correspond à l'octave 3 de la notation latine ( Do Ré Mi Fa Sol La Si)<br>
               et à l'octave 4 de la notation anglo-saxonne (C D E F G A B)
             </small>
          </div>
          <canvas id="cOctave" height="100"></canvas>
          <div id="dOctave">
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header" id="chFrequence">
        <h5 class="mb-0">
          <button class="btn btn-link" data-toggle="collapse" data-target="#Frequence" aria-expanded="true" aria-controls="Frequence">
            Pour les voir autour d'une fréquence donnée
          </button>
        </h5>
      </div>
      <div id="Frequence" class="collapse" aria-labelledby="chFrequence">
        <div class="card-body">
           <div>
              <label for="iFrequence">Fréquence</label>
              <div class="row" id="controls">
                <div class="col-md-6">
                  <input id="iFrequence" class="form-control" aria-describedby="lFrequence" value="440"/>
                </div>
                <div class="col-md-6">
                  <span id="sFrequence"> </span>
                </div>
              </div>
              <small id="lFrequence" class="form-text text-muted">Fréquence à afficher en Herz</small>
           </div>
           <canvas id="cFrequence" height="100"></canvas>
           <div id="dFrequence">
           </div>
        </div>
      </div>
    </div>
    <div class="row mt-3 ml-1 text-muted">
      <p>
      L'article traite d'ondes électromagnétiques mais la vue des résultats fait penser à la musique (ondes acoustiques).<br>
      Cela rappelle les 12 demi-tons de la gamme tempérée.<br>
      La répartition des bandes est proche de la gamme tempérée mais ce n'est pas exactement çà.<br>
      Je n'ai pas trouvé non plus de correspondance avec la gamme pythagoricienne.
      </p>
    </div>
    <div class="card">
      <div class="card-header" id="ch432Hz">
        <h5 class="mb-0">
          <button class="btn btn-link" data-toggle="collapse" data-target="#g432Hz" aria-expanded="true" aria-controls="g432Hz">
            Comme les bandes ont une certaine largeur, la gamme à 432Hz entre quand même entièrement dans les fréquences cohérentes.
          </button>
        </h5>
      </div>
      <div id="g432Hz" class="collapse" aria-labelledby="ch432Hz">
        <div class="card-body">
          <canvas id="c432Hz" height="100"></canvas>
          <div id="d432Hz">
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header" id="ch418Hz">
        <h5 class="mb-0">
          <button class="btn btn-link" data-toggle="collapse" data-target="#g418Hz" aria-expanded="true" aria-controls="g418Hz">
            Et la gamme à 418 Hz est pile dans les fréquences décohérentes
          </button>
        </h5>
      </div>
      <div id="g418Hz" class="collapse" aria-labelledby="ch418Hz">
        <div class="card-body">
          <canvas id="c418Hz" height="100"></canvas>
          <div id="d418Hz">
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header" id="ch440Hz">
        <h5 class="mb-0">
          <button class="btn btn-link" data-toggle="collapse" data-target="#g440Hz" aria-expanded="true" aria-controls="g440Hz">
            Certaines notes de la gamme standard à 440Hz sont décohérentes, d'autres neutres
          </button>
        </h5>
      </div>
      <div id="g440Hz" class="collapse" aria-labelledby="ch440Hz">
        <div class="card-body">
          <canvas id="c440Hz" height="100"></canvas>
          <div id="d440Hz">
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header" id="chAudio">
        <h5 class="mb-0">
          <button class="btn btn-link" data-toggle="collapse" data-target="#Audio" aria-expanded="true" aria-controls="Audio">
          Bien-sûr j'ai eu envie de voir ce que cela donnait comme son.
          </button>
        </h5>
      </div>
      <div id="Audio" class="collapse" aria-labelledby="chAudio">
        <div class="card-body">
           <div class="row mt-3 ml-1 text-muted">
             <p>
              J'ai fait mes premiers tests en créant des fichiers audio avec <a target="_blank" href="https://www.audacityteam.org/">Audacity</a>
              par le menu Générer/Tonalité.<br>
              La gamme au diapason 440 Hz
              <audio controls>
                <source src="Gamme_440Hz.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
              </audio>
              <br>
              La gamme au diapason 432 Hz
              <audio controls>
                <source src="Gamme_432Hz.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
              </audio>
              <br>
              La gamme des fréquences cohérentes
              <audio controls>
                <source src="Gamme_Coherence.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
              </audio>
              <br>
              La gamme des fréquences cohérentes avec tous les demis tons
              <audio controls>
                <source src="Coherence.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
              </audio>
              <br>
              Montée de la gamme avec succession note tempérée 432 Hz puis note cohérente
              <audio controls>
                <source src="Gamme_432Hz-Coherent.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
              </audio>
              <br>
              Gamme avec note tempérée 432 Hz et note cohérente jouée en même temps
              <audio controls>
                <source src="2_pistes.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
              </audio>
              <br>
              En stéréo, si je ne me trompe pas, la note tempérée 432 Hz est jouée à gauche et la note cohérente jouée à droite en même temps
              <audio controls>
                <source src="Stereo.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
              </audio>
              <br>
              Et la gamme des fréquences décohérentes
              <audio controls>
                <source src="DeCoherence.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
              </audio><br>
              Pour pouvoir voir ce que cela donne sur une partition complète,
              j'ai modifié également un plugin de <a target="_blank" href="https://musescore.org/fr">MuseScore</a> pour utiliser les notes cohérentes.<br>
              Pour MuseScore 2: <a target="_blank" href="MuseScore/V2/tuning_coherent.qml">tuning_coherent.qml</a><br>
              Pour MuseScore 3: <a target="_blank" href="MuseScore/V3/tuning_coherent.qml">tuning_coherent.qml</a><br>
              Une fois le plugin installé dans Documents\MuseScore(2 ou 3)\Plugins <br>
              et activé par le menu Plugin/Gestionnaires de Plugins, <br>
              il faut régler le diapason sur 432 Hz dans le menu Affichage/Synthétiseur/Réglage du Diapason (et faire Enregistrer dans la partition), <br>
              sélectionner toutes les mesures de la partition <br>
              et dans le menu Plugins/Playback/TuningCoherent, choisir le tempérament Cohérent puis "Apply".
             </p>
           </div>
        </div>
      </div>
    </div>
    <div class="row mt-3 ml-1 text-muted">
      <p>
      Compteur électrique Linky<br><br>
      Je me suis intéressé également aux fréquences utilisées pour la communication des compteurs Linky.<br>
      Ils utilisent la norme CPL G3 dont j'ai trouvé une documentation ici:
      <a target="_blank" href="http://www.santepublique-editions.fr/objects/Specification_de_la_couche_physique_CPL_G3.pdf">
      SPECIFICATION DE LA COUCHE PHYSIQUE CPL G3
      </a>
      </p>
    </div>
    <div class="card">
      <div class="card-header" id="chCPL_G3">
        <h5 class="mb-0">
          <button class="btn btn-link" data-toggle="collapse" data-target="#CPL_G3" aria-expanded="true" aria-controls="CPL_G3">
            Les résultats sont mitigés: un tiers des 36 fréquences porteuses sont cohérentes
          </button>
        </h5>
      </div>
      <div id="CPL_G3" class="collapse" aria-labelledby="chCPL_G3">
        <div class="card-body">
          <canvas id="cCPL_G3" height="100"></canvas>
          <div id="dCPL_G3">
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header" id="chCouleur">
        <h5 class="mb-0">
          <button class="btn btn-link" data-toggle="collapse" data-target="#Couleur" aria-expanded="true" aria-controls="Couleur">
            Et en matière de couleurs ...
          </button>
        </h5>
      </div>
      <div id="Couleur" class="collapse" aria-labelledby="chCouleur">
        <div class="card-body">
           <div class="row mt-3 ml-1 text-muted">
             <p>
             J'ai utilisé la référence suivante pour la conversion des fréquences en couleurs d'écran (le rendu doit varier un peu d'un écran à l'autre): <br>
             <a target="_blank" href="https://web.archive.org/web/20190528182100/http://www.physics.sfasu.edu/astro/color/spectra.html">
             http://www.physics.sfasu.edu/astro/color/spectra.html
             </a><br>
             et plus particulièrement le code Delphi de :<br>
             <a target="_blank" href="https://web.archive.org/web/20190612221227/http://efg2.com/Lab/ScienceAndEngineering/Spectra.htm">
             http://efg2.com/Lab/ScienceAndEngineering/Spectra.htm
             </a><br>
             (ces sites web d'il y a plus de 20 ans n'existant plus, les liens pointent vers des copies)<br>
             J'ai vérifié rapidement le résultat à l'aide des données de
             <a target="_blank" href="https://fr.wikipedia.org/wiki/Spectre_%C3%A9lectromagn%C3%A9tique">
             https://fr.wikipedia.org/wiki/Spectre_électromagnétique
             </a><br>
             J'ai été surpris de voir le rouge arriver sur fa sol, je l'aurais plutôt attendu autour du do...
             </p>
           </div>
          <canvas id="cCouleur" height="100"></canvas>
          <div id="dCouleur">
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header" id="chInfos">
        <h5 class="mb-0">
          <button class="btn btn-link" data-toggle="collapse" data-target="#Infos" aria-expanded="true" aria-controls="Infos">
            Code source Freepascal/pas2js sous licence LGPL
          </button>
        </h5>
      </div>
      <div id="Infos" class="collapse" aria-labelledby="chInfos">
        <div class="card-body">
          <div >
             <a target="_blank" href="https://github.com/jsuzineau/pascal_o_r_mapping/tree/TjsDataContexte/tools/jsFrequences">
                      https://github.com/jsuzineau/pascal_o_r_mapping/tree/TjsDataContexte/tools/jsFrequences
             </a>
          </div>
          <div id="dInfos">
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
  rtl.run();

  </script>
  
</body>
</html>
